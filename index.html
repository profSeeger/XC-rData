<!DOCTYPE html>
<html>

<head>
    <title>Mapping API's: Leaflet - Layer Control</title>
    <meta name="description" content="Mapping API's: Leaflet - Layer Control" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"></script>
    <script src="classes/leaflet.ajax.js"></script>



    <style>
        html,
        body,
        #map {
            height: 480px;
            margin: 0;
            padding: 0;
        }
    </style>

</head>

<body>
    <div id="map"></div>


    <script>
        //Base Layers
        var OSM = L.tileLayer('https://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
            maxZoom: 18
        });


		var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
});

        var nexrad = new L.tileLayer.wms("https://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi", {
            layers: 'nexrad-n0r',
            format: 'image/png',
            transparent: true,
            attribution: "Weather data &copy; 2015 IEM Nexrad"
        });





        //------ Cities
        var riceLake = L.marker([45.498333, -91.738889]).bindPopup('Rice Lake, WI.');



        //Alerts
        var alert1 = L.polygon([
            [45.825833, -91.891111],
            [45.535833, -92.023333],
            [45.498333, -92.638889],
            [46.498333, -92.638889]
        ], {
            color: 'yellow',
            fillColor: 'yellow',
            fillOpacity: 0.6
        });



        //create the map
        var map = L.map('map', {
            center: new L.LatLng(44, -91),
            zoom: 6,
            layers: [OSM, riceLake]
        });







	/*
function popUp(f,l){

    var out = [];
    if (f.properties){
        for(key in f.properties){
            out.push(key+": "+f.properties[key]);
        }
        l.bindPopup(out.join("<br />"));
    }

}
 */

var geojsonLayer = new L.GeoJSON.AJAX("map.geojson");
console.log(geojsonLayer)
geojsonLayer.addTo(map);

//var geojsonLayer= new L.GeoJSON.AJAX(["districtSites2019.geojson"],{onEachFeature:popUp}).addTo(map);







        //layer control
        var baseMaps = {
            "OpenStreetMap": OSM,
            "ESRI Aerial": Esri_WorldImagery
        };

        var overlayMaps = {
            "Cities": riceLake,
            "Radar": nexrad,
            "District Sites": geojsonLayer

        };

        L.control.layers(baseMaps, overlayMaps).addTo(map);
    </script>

</body>
</html>

